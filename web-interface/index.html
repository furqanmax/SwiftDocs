<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Dynamic Document Editor</title>
    <!-- Include a modern font similar to Notion -->
    <link
      href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600&display=swap"
      rel="stylesheet"
    />
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/normalize/8.0.1/normalize.min.css"
    />
    <link
      rel="stylesheet"
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css"
    />

    <!-- External CSS -->
    <link rel="stylesheet" href="css/style.css" />
  </head>
  <body>
    <div class="container my-4">
      <h1>Dynamic Document Editor</h1>
      <!-- Top minimal Notion-like toolbar -->
      <!-- <div class="notion-toolbar">
        <button onclick="createElement('heading')">Heading</button>
        <button onclick="createElement('subheading')">Sub-heading</button>
        <button onclick="createElement('paragraph')">Paragraph</button>
        <button onclick="createElement('bullet')">Bullet List</button>
        <button id="saveContent" class="btn btn-success">Save Document</button>
      </div> -->
      <div class="row">
        <!-- Left Column: Document Editor (9) -->
        <div class="col-md-9 col-editor">
          <!-- Toolbar -->
          <div class="toolbar d-flex justify-content-between">
            <div>
              <button id="addHeading">Heading</button>
              <button id="addSubheading">Sub-heading</button>
              <button id="addParagraph">Paragraph</button>
              <button id="addBullet">Bullet List</button>
            </div>
            <div>
              <button id="saveContent" class="btn btn-success">
                Save Document
              </button>
              <button id="exportPDF" class="btn btn-secondary">
                Export PDF
              </button>
              <button id="exportWord" class="btn btn-secondary">
                Export Word
              </button>
            </div>
          </div>
          <!-- Editable Document Area -->
          <div id="editor" ondragover="event.preventDefault()">
            <!-- Wrap content in editor-block(s) -->
            <div class="editor-block" contenteditable="true">
              Start writing your story here...
              <div class="block-add-btn" onclick="showBlockMenu(this)">+</div>
            </div>
          </div>
          <!-- Floating inline block menu -->
          <div id="inlineBlockMenu">
            <button data-type="heading" onclick="addInlineBlock('heading')">
              Add Heading
            </button>
            <button
              data-type="subheading"
              onclick="addInlineBlock('subheading')"
            >
              Add Sub-heading
            </button>
            <button data-type="paragraph" onclick="addInlineBlock('paragraph')">
              Add Paragraph
            </button>
            <button data-type="bullet" onclick="addInlineBlock('bullet')">
              Add Bullet List
            </button>
          </div>
        </div>
        <!-- Right Column: Saved Elements List (3) -->
        <div class="col-md-3">
          <h3>Saved Elements</h3>
          <!-- NEW: Search input to filter saved elements -->
          <input
            type="text"
            id="searchInput"
            class="form-control mb-3"
            placeholder="Search elements..."
          />
          <ul id="savedElements" class="list-unstyled">
            <!-- Dynamically loaded saved elements will be inserted here -->
          </ul>
        </div>
      </div>
    </div>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/Sortable/1.10.2/Sortable.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    <!-- NEW: Add html2pdf library to fix export error -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/html2pdf.js/0.9.2/html2pdf.bundle.min.js"></script>
    <!-- External JS files for editor and export functionality -->
    <script src="js/editor.js"></script>
    <script src="js/export.js"></script>
  </body>
</html>
